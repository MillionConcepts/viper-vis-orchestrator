{% load static %}
{% include "layouts/head.html" %}
<body>
{% include "layouts/nav.html" %}

<div id="layout-container" class="split-flow-container">
    <div
        id="product-container"
        style="display:flex;flex-direction:row;margin-left:1vw;margin-top:1vh"
    >
        <div
                id="metadata-panel"
                class="flex-panel shrinking-text"
                style="overflow:scroll"
        >
            <h3 class="metadata-header">{{ pid }}</h3>
            {% for field, value in metadata.items %}
                <p class="metadata-row">{{ field }}: {{ value }}</p>
            {% endfor %}
        </div>
        <div id="image-panel" class="flex-panel">
            <img
                src="{{ browse_url }}"
                alt="browse image for {{ pid }}"
                style="max-width: 90%; height:auto;"
            >
        </div>
    </div>
    {# TODO, maybe: messy, populate styles and maybe text with js #}
    <div id="status-panel" class="flex-panel" style="flex-shrink:0; font-size: 24px">
        <div id="link-container">
            <div class="horizontal-plain-links">
                <p>links:</p>
                <a href="{{ image_url }}">image</a>
                <a href="{{ browse_url }}">label</a>
                {% if request_url != None %}
                <a href="{{ request_url }}">request</a>
                {% endif %}
            </div>
        </div>
        <div id="review-status" class="review-container">
        <h4>review status</h4>
        <p style=";
        {% if metadata.verified == None %}
            color: orange;">
            - not VIS verified
            <a
                onclick="toggleVisibility('verification-container', True)"
                style="color: palegoldenrod; margin-left: 1rem">
                [verify]</a>
        {% elif metadata.verified == True %}
            color: lightgreen;">
            - passed VIS
            <a onclick="toggleVisibility('verification-container', True)"
                style="color: palegreen; margin-left: 1rem">
                [edit]</a>
        {% else %}
            color: salmon;">
            - failed VIS
            <a onclick="toggleVisibility('verification', True)"
                style="color: lightpink; margin-left: 0.5rem">
                [edit]</a>
        {% endif %}
        <p style=";
        {% if evaluated == "no request" %}
            color: orange;">
            - no linked request
            <a onclick="toggleVisibility('assign-request-form')"
                style="color: palegoldenrod; margin-left: 0.5rem; margin-right: 0">
                [assign]</a>
            <a href="/imagerequest" style="color: palegoldenrod;">[create]</a>
        {% elif evaluated == "not" %}
            color: orange;">
            - not evaluated
            <a href="{{ request_url}}" style="color: palegoldenrod; margin-left: 1rem">
                [evaluate]</a>
        {% elif evaluated == "incomplete" %}
            color: orange;">
            - evaluation incomplete
            <a href="{{ request_url }}" style="color: palegoldenrod; margin-left: 1rem">
                [continue]</a>
        {% elif evaluated == "partial" %}
            color: beige;">
            - partially passed evaluation
            <a href="{{ request_url }}" style="color: aliceblue; margin-left: 1rem">
                [view/edit]</a>
        {% elif evaluated == "passed" %}
            color: lightgreen;">
            - passed evaluation
            <a href="{{ request_url }}" style="color: palegreen; margin-left: 1rem">
                [view/edit]</a>
        {% else %}
            color: salmon;">
            - failed evaluation
            <a href="{{ request_url }}" style="color: lightpink; margin-left: 1rem">
                [view/edit]</a>
        {% endif %}
        <form id="assign-request-form" style="display: none">
            reassign request
        </form>
        </div>
     </div>
    </div>
</div>





</body>
</html>